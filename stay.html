<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotels & Resorts - TravelGo</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .tour-filters { display: flex; gap: 12px; flex-wrap: wrap; margin-bottom: 30px; }
        .tour-filter-btn { padding: 10px 22px; background: var(--white); border: 2px solid var(--border-color); border-radius: 30px; font-size: 14px; font-weight: 500; color: var(--text-color); cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; }
        .tour-filter-btn i { font-size: 14px; }
        .tour-filter-btn:hover { border-color: var(--primary-color); color: var(--primary-color); background: rgba(79, 70, 229, 0.05); }
        .tour-filter-btn.active { background: var(--primary-color); color: var(--white); border-color: var(--primary-color); }
        .tour-filter-btn .count { background: rgba(0,0,0,0.1); padding: 2px 8px; border-radius: 12px; font-size: 11px; font-weight: 600; }
        .tour-filter-btn.active .count { background: rgba(255,255,255,0.3); }
        .tours-toolbar { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px; margin-bottom: 25px; }
        .tours-toolbar .results-count { font-size: 14px; color: var(--text-light); font-weight: 500; }
        .tours-toolbar .results-count strong { color: var(--dark-color); }
        .tours-toolbar .toolbar-right { display: flex; gap: 12px; align-items: center; }
        .search-box { position: relative; }
        .search-box input { padding: 10px 15px 10px 40px; border: 1px solid var(--border-color); border-radius: 25px; font-size: 14px; width: 260px; transition: all 0.3s ease; font-family: 'Poppins', sans-serif; }
        .search-box input:focus { outline: none; border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1); }
        .search-box i { position: absolute; left: 14px; top: 50%; transform: translateY(-50%); color: var(--text-light); font-size: 14px; }
        .sort-select select, .budget-select select { padding: 10px 35px 10px 15px; border: 1px solid var(--border-color); border-radius: 25px; font-size: 14px; font-family: 'Poppins', sans-serif; cursor: pointer; appearance: none; background: var(--white) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%2364748b' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E") no-repeat right 12px center; }
        .sort-select select:focus, .budget-select select:focus { outline: none; border-color: var(--primary-color); }
        .reset-filters-btn { white-space: nowrap; }
        .no-results { text-align: center; padding: 60px 20px; color: var(--text-light); display: none; }
        .no-results i { font-size: 48px; margin-bottom: 15px; color: var(--border-color); }
        .no-results h3 { color: var(--dark-color); margin-bottom: 8px; }
        .tour-booking-modal .modal-content { max-width: 700px; border-radius: 16px; overflow: hidden; }
        .tour-booking-header { position: relative; height: 200px; overflow: hidden; }
        .tour-booking-header img { width: 100%; height: 100%; object-fit: cover; }
        .tour-booking-header .overlay { position: absolute; bottom: 0; left: 0; right: 0; padding: 20px 25px; background: linear-gradient(transparent, rgba(0,0,0,0.8)); color: white; }
        .tour-booking-header .overlay h2 { font-size: 22px; margin-bottom: 4px; }
        .tour-booking-header .overlay p { font-size: 13px; opacity: 0.9; display: flex; align-items: center; gap: 6px; }
        .tour-booking-body { padding: 25px; }
        .tour-booking-details { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 20px; }
        .tour-detail-item { display: flex; align-items: center; gap: 10px; padding: 12px; background: var(--light-color); border-radius: 10px; }
        .tour-detail-item i { width: 36px; height: 36px; background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 14px; flex-shrink: 0; }
        .tour-detail-item .detail-text { display: flex; flex-direction: column; }
        .tour-detail-item .detail-label { font-size: 11px; color: var(--text-light); text-transform: uppercase; letter-spacing: 0.5px; }
        .tour-detail-item .detail-value { font-size: 14px; font-weight: 600; color: var(--dark-color); }
        .tour-booking-form h3 { font-size: 16px; font-weight: 600; color: var(--dark-color); margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid var(--border-color); }
        .tour-booking-form .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .tour-booking-form .form-group { margin-bottom: 15px; }
        .tour-booking-form .form-group label { display: block; font-size: 13px; font-weight: 500; color: var(--dark-color); margin-bottom: 6px; }
        .tour-booking-form .form-group input, .tour-booking-form .form-group select { width: 100%; padding: 10px 14px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 14px; font-family: 'Poppins', sans-serif; transition: all 0.3s ease; }
        .tour-booking-form .form-group input:focus, .tour-booking-form .form-group select:focus { outline: none; border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1); }
        .tour-price-summary { background: var(--light-color); border-radius: 12px; padding: 20px; margin-top: 20px; }
        .price-row { display: flex; justify-content: space-between; padding: 8px 0; font-size: 14px; color: var(--text-color); }
        .price-row.total { border-top: 2px solid var(--border-color); margin-top: 8px; padding-top: 12px; font-size: 18px; font-weight: 700; color: var(--dark-color); }
        .price-row.total .amount { color: var(--success-color); }
        .price-row .discount { color: var(--success-color); }
        .tour-booking-actions { display: flex; gap: 12px; margin-top: 20px; }
        .tour-booking-actions .btn { flex: 1; padding: 14px; font-size: 15px; border-radius: 10px; }
        .btn-success { background: linear-gradient(135deg, #10b981, #059669); color: white; border: none; }
        .btn-success:hover { transform: translateY(-2px); box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4); }
        .includes-grid { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 20px; }
        .includes-grid span { font-size: 12px; background: #eef2ff; color: var(--primary-color); padding: 6px 12px; border-radius: 20px; display: flex; align-items: center; gap: 5px; font-weight: 500; }
        .includes-grid span i { font-size: 11px; }
        @media (max-width: 768px) {
            .tours-toolbar { flex-direction: column; align-items: stretch; }
            .search-box input { width: 100%; }
            .tour-booking-details { grid-template-columns: 1fr; }
            .tour-booking-form .form-row { grid-template-columns: 1fr; }
        }
        @media (max-width: 576px) { .tour-filters { justify-content: center; } }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-compact">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <i class="fas fa-plane-departure"></i>
                TravelGo
            </a>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle">Destination <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-menu">
                        <li><a href="destinations.html?type=domestic"><i class="fas fa-flag"></i> Domestic</a></li>
                        <li><a href="destinations.html?type=international"><i class="fas fa-globe"></i> International</a></li>
                    </ul>
                </li>
                <li><a href="tour-packages.html">Tours</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle active">Stay <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-menu">
                        <li><a href="stay.html?type=hotel"><i class="fas fa-hotel"></i> Hotels</a></li>
                        <li><a href="stay.html?type=resort"><i class="fas fa-umbrella-beach"></i> Resorts</a></li>
                    </ul>
                </li>
                <li><a href="index.html#contact">Contact</a></li>
            </ul>
            <div class="nav-buttons" id="authButtons">
                <a href="login.html" class="btn btn-outline btn-sm">Login</a>
                <a href="signup.html" class="btn btn-primary btn-sm">Sign Up</a>
            </div>
            <div class="nav-profile" id="navProfile" style="display: none;">
                <div class="profile-dropdown">
                    <div class="profile-trigger" id="profileTrigger">
                        <img src="https://ui-avatars.com/api/?name=User&background=4f46e5&color=fff" alt="Profile" class="profile-img">
                        <span class="profile-name">My Info</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <ul class="profile-menu">
                        <li><a href="my-bookings.html"><i class="fas fa-ticket-alt"></i> My Bookings</a></li>
                        <li><a href="#" onclick="showFavourites()"><i class="fas fa-heart"></i> Favourites</a></li>
                        <li><a href="#" id="logoutBtn"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
                    </ul>
                </div>
            </div>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>Premium <span>Stays</span></h1>
            <p>Handpicked hotels and resorts for your perfect getaway</p>
        </div>
    </section>

    <!-- Stays Content -->
    <section class="tours-section" style="padding: 40px 0 60px;">
        <div class="container">
            <!-- Filter Tabs -->
            <div class="tour-filters">
                <button class="tour-filter-btn active" data-category="all">
                    <i class="fas fa-th"></i> All Stays <span class="count" id="stayCountAll">12</span>
                </button>
                <button class="tour-filter-btn" data-category="hotel">
                    <i class="fas fa-hotel"></i> Hotels
                </button>
                <button class="tour-filter-btn" data-category="resort">
                    <i class="fas fa-umbrella-beach"></i> Resorts
                </button>
                <button class="tour-filter-btn" data-category="luxury">
                    <i class="fas fa-crown"></i> Luxury
                </button>
                <button class="tour-filter-btn" data-category="beach">
                    <i class="fas fa-water"></i> Beach
                </button>
                <button class="tour-filter-btn" data-category="mountain">
                    <i class="fas fa-mountain"></i> Mountain
                </button>
                <button class="tour-filter-btn" data-category="city">
                    <i class="fas fa-city"></i> City
                </button>
            </div>

            <!-- Toolbar -->
            <div class="tours-toolbar">
                <div class="results-count">
                    Showing <strong id="stayVisibleCount">12</strong> stays
                </div>
                <div class="toolbar-right">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="staySearch" placeholder="Search stays...">
                    </div>
                    <div class="budget-select">
                        <select id="stayBudget">
                            <option value="all">Budget: Any</option>
                            <option value="0-5000">Up to ₹5,000</option>
                            <option value="5001-10000">₹5,001 - ₹10,000</option>
                            <option value="10001-20000">₹10,001 - ₹20,000</option>
                            <option value="20001-9999999">Above ₹20,000</option>
                        </select>
                    </div>
                    <div class="sort-select">
                        <select id="staySort">
                            <option value="default">Sort: Recommended</option>
                            <option value="price-low">Price: Low to High</option>
                            <option value="price-high">Price: High to Low</option>
                            <option value="rating">Rating: Highest</option>
                        </select>
                    </div>
                    <button class="btn btn-outline btn-sm reset-filters-btn" id="stayResetFilters">Reset Filters</button>
                </div>
            </div>

            <!-- Stays Grid -->
            <div class="tours-grid" id="staysGrid">
                <!-- Hotel 1: Taj Palace -->
                <div class="tour-card" data-name="Taj Palace Hotel" data-price="12500" data-duration="1" data-category="luxury" data-type="stay" data-stay-type="hotel"
                     data-image="https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400&h=300&fit=crop"
                     data-route="Mumbai, Maharashtra" data-duration-text="Per Night"
                     data-original-price="18000" data-discount="31" data-rating="4.9" data-reviews="3.2k"
                     data-includes="Free WiFi,Pool,Spa,Restaurant,Gym,Room Service">
                    <div class="tour-image">
                        <img src="https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400&h=300&fit=crop" alt="Taj Palace Hotel">
                        <div class="tour-badge featured">5 Star</div>
                        <div class="tour-duration"><i class="fas fa-clock"></i> Per Night</div>
                        <button class="btn-favourite" onclick="toggleFavourite(this)" title="Add to Favourites"><i class="far fa-heart"></i></button>
                    </div>
                    <div class="tour-info">
                        <div class="tour-rating"><i class="fas fa-star"></i><span>4.9</span> <small>(3.2k reviews)</small></div>
                        <h3>Taj Palace Hotel</h3>
                        <p><i class="fas fa-map-marker-alt"></i> Mumbai, Maharashtra</p>
                        <div class="tour-highlights">
                            <span><i class="fas fa-wifi"></i> Free WiFi</span>
                            <span><i class="fas fa-swimming-pool"></i> Pool</span>
                            <span><i class="fas fa-spa"></i> Spa</span>
                            <span><i class="fas fa-utensils"></i> Restaurant</span>
                        </div>
                        <div class="tour-price">
                            <div class="price-info">
                                <span class="original-price">₹18,000</span>
                                <span class="price">₹12,500/night</span>
                                <span class="offer-tag">31% OFF</span>
                            </div>
                            <button class="btn btn-small btn-book" onclick="openStayBooking(this)">Book Now</button>
                        </div>
                    </div>
                </div>

                <!-- Hotel 2: ITC Grand Chola -->
                <div class="tour-card" data-name="ITC Grand Chola" data-price="9999" data-duration="1" data-category="luxury" data-type="stay" data-stay-type="hotel"
                     data-image="https://images.unsplash.com/photo-1582719508461-905c673771fd?w=400&h=300&fit=crop"
                     data-route="Chennai, Tamil Nadu" data-duration-text="Per Night"
                     data-original-price="14999" data-discount="33" data-rating="4.8" data-reviews="2.1k"
                     data-includes="Free WiFi,Pool,Spa,Multi-Cuisine,Business Center,Valet">
                    <div class="tour-image">
                        <img src="https://images.unsplash.com/photo-1582719508461-905c673771fd?w=400&h=300&fit=crop" alt="ITC Grand Chola">
                        <div class="tour-badge featured">5 Star</div>
                        <div class="tour-duration"><i class="fas fa-clock"></i> Per Night</div>
                        <button class="btn-favourite" onclick="toggleFavourite(this)" title="Add to Favourites"><i class="far fa-heart"></i></button>
                    </div>
                    <div class="tour-info">
                        <div class="tour-rating"><i class="fas fa-star"></i><span>4.8</span> <small>(2.1k reviews)</small></div>
                        <h3>ITC Grand Chola</h3>
                        <p><i class="fas fa-map-marker-alt"></i> Chennai, Tamil Nadu</p>
                        <div class="tour-highlights">
                            <span><i class="fas fa-wifi"></i> Free WiFi</span>
                            <span><i class="fas fa-swimming-pool"></i> Pool</span>
                            <span><i class="fas fa-spa"></i> Spa</span>
                            <span><i class="fas fa-utensils"></i> Multi-Cuisine</span>
                        </div>
                        <div class="tour-price">
                            <div class="price-info">
                                <span class="original-price">₹14,999</span>
                                <span class="price">₹9,999/night</span>
                                <span class="offer-tag">33% OFF</span>
                            </div>
                            <button class="btn btn-small btn-book" onclick="openStayBooking(this)">Book Now</button>
                        </div>
                    </div>
                </div>

                <!-- Hotel 3: Lemon Tree -->
                <div class="tour-card" data-name="Lemon Tree Premier" data-price="4500" data-duration="1" data-category="budget" data-type="stay" data-stay-type="hotel"
                     data-image="https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?w=400&h=300&fit=crop"
                     data-route="Delhi NCR" data-duration-text="Per Night"
                     data-original-price="6500" data-discount="31" data-rating="4.3" data-reviews="1.8k"
                     data-includes="Free WiFi,Restaurant,Gym,Parking,Laundry">
                    <div class="tour-image">
                        <img src="https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?w=400&h=300&fit=crop" alt="Lemon Tree Premier">
                        <div class="tour-badge">Value</div>
                        <div class="tour-duration"><i class="fas fa-clock"></i> Per Night</div>
                        <button class="btn-favourite" onclick="toggleFavourite(this)" title="Add to Favourites"><i class="far fa-heart"></i></button>
                    </div>
                    <div class="tour-info">
                        <div class="tour-rating"><i class="fas fa-star"></i><span>4.3</span> <small>(1.8k reviews)</small></div>
                        <h3>Lemon Tree Premier</h3>
                        <p><i class="fas fa-map-marker-alt"></i> Delhi NCR</p>
                        <div class="tour-highlights">
                            <span><i class="fas fa-wifi"></i> Free WiFi</span>
                            <span><i class="fas fa-utensils"></i> Restaurant</span>
                            <span><i class="fas fa-dumbbell"></i> Gym</span>
                            <span><i class="fas fa-parking"></i> Parking</span>
                        </div>
                        <div class="tour-price">
                            <div class="price-info">
                                <span class="original-price">₹6,500</span>
                                <span class="price">₹4,500/night</span>
                                <span class="offer-tag">31% OFF</span>
                            </div>
                            <button class="btn btn-small btn-book" onclick="openStayBooking(this)">Book Now</button>
                        </div>
                    </div>
                </div>

                <!-- Hotel 4: The Oberoi -->
                <div class="tour-card" data-name="The Oberoi Udaivilas" data-price="28000" data-duration="1" data-category="luxury" data-type="stay" data-stay-type="hotel"
                     data-image="https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?w=400&h=300&fit=crop"
                     data-route="Udaipur, Rajasthan" data-duration-text="Per Night"
                     data-original-price="38000" data-discount="26" data-rating="5.0" data-reviews="1.5k"
                     data-includes="Lake View,Private Pool,Spa,Fine Dining,Butler Service">
                    <div class="tour-image">
                        <img src="https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?w=400&h=300&fit=crop" alt="The Oberoi Udaivilas">
                        <div class="tour-badge featured">Premium</div>
                        <div class="tour-duration"><i class="fas fa-clock"></i> Per Night</div>
                        <button class="btn-favourite" onclick="toggleFavourite(this)" title="Add to Favourites"><i class="far fa-heart"></i></button>
                    </div>
                    <div class="tour-info">
                        <div class="tour-rating"><i class="fas fa-star"></i><span>5.0</span> <small>(1.5k reviews)</small></div>
                        <h3>The Oberoi Udaivilas</h3>
                        <p><i class="fas fa-map-marker-alt"></i> Udaipur, Rajasthan</p>
                        <div class="tour-highlights">
                            <span><i class="fas fa-water"></i> Lake View</span>
                            <span><i class="fas fa-swimming-pool"></i> Private Pool</span>
                            <span><i class="fas fa-spa"></i> Spa</span>
                            <span><i class="fas fa-utensils"></i> Fine Dining</span>
                        </div>
                        <div class="tour-price">
                            <div class="price-info">
                                <span class="original-price">₹38,000</span>
                                <span class="price">₹28,000/night</span>
                                <span class="offer-tag">26% OFF</span>
                            </div>
                            <button class="btn btn-small btn-book" onclick="openStayBooking(this)">Book Now</button>
                        </div>
                    </div>
                </div>

                <!-- Hotel 5: Treebo Trend -->
                <div class="tour-card" data-name="Treebo Trend Blue" data-price="2499" data-duration="1" data-category="budget" data-type="stay" data-stay-type="hotel"
                     data-image="https://images.unsplash.com/photo-1618773928121-c32242e63f39?w=400&h=300&fit=crop"
                     data-route="Bangalore, Karnataka" data-duration-text="Per Night"
                     data-original-price="3999" data-discount="38" data-rating="4.1" data-reviews="2.5k"
                     data-includes="Free WiFi,AC,TV,Parking,Breakfast">
                    <div class="tour-image">
                        <img src="https://images.unsplash.com/photo-1618773928121-c32242e63f39?w=400&h=300&fit=crop" alt="Treebo Trend Blue">
                        <div class="tour-badge">Budget Friendly</div>
                        <div class="tour-duration"><i class="fas fa-clock"></i> Per Night</div>
                        <button class="btn-favourite" onclick="toggleFavourite(this)" title="Add to Favourites"><i class="far fa-heart"></i></button>
                    </div>
                    <div class="tour-info">
                        <div class="tour-rating"><i class="fas fa-star"></i><span>4.1</span> <small>(2.5k reviews)</small></div>
                        <h3>Treebo Trend Blue</h3>
                        <p><i class="fas fa-map-marker-alt"></i> Bangalore, Karnataka</p>
                        <div class="tour-highlights">
                            <span><i class="fas fa-wifi"></i> Free WiFi</span>
                            <span><i class="fas fa-snowflake"></i> AC</span>
                            <span><i class="fas fa-parking"></i> Parking</span>
                            <span><i class="fas fa-coffee"></i> Breakfast</span>
                        </div>
                        <div class="tour-price">
                            <div class="price-info">
                                <span class="original-price">₹3,999</span>
                                <span class="price">₹2,499/night</span>
                                <span class="offer-tag">38% OFF</span>
                            </div>
                            <button class="btn btn-small btn-book" onclick="openStayBooking(this)">Book Now</button>
                        </div>
                    </div>
                </div>

                <!-- Hotel 6: Radisson Blu -->
                <div class="tour-card" data-name="Radisson Blu Plaza" data-price="7500" data-duration="1" data-category="city" data-type="stay" data-stay-type="hotel"
                     data-image="https://images.unsplash.com/photo-1564501049412-61c2a3083791?w=400&h=300&fit=crop"
                     data-route="Hyderabad, Telangana" data-duration-text="Per Night"
                     data-original-price="10500" data-discount="29" data-rating="4.6" data-reviews="1.9k"
                     data-includes="Free WiFi,Pool,Gym,Restaurant,Bar,Conference">
                    <div class="tour-image">
                        <img src="https://images.unsplash.com/photo-1564501049412-61c2a3083791?w=400&h=300&fit=crop" alt="Radisson Blu Plaza">
                        <div class="tour-badge">Business</div>
                        <div class="tour-duration"><i class="fas fa-clock"></i> Per Night</div>
                        <button class="btn-favourite" onclick="toggleFavourite(this)" title="Add to Favourites"><i class="far fa-heart"></i></button>
                    </div>
                    <div class="tour-info">
                        <div class="tour-rating"><i class="fas fa-star"></i><span>4.6</span> <small>(1.9k reviews)</small></div>
                        <h3>Radisson Blu Plaza</h3>
                        <p><i class="fas fa-map-marker-alt"></i> Hyderabad, Telangana</p>
                        <div class="tour-highlights">
                            <span><i class="fas fa-wifi"></i> Free WiFi</span>
                            <span><i class="fas fa-swimming-pool"></i> Pool</span>
                            <span><i class="fas fa-dumbbell"></i> Gym</span>
                            <span><i class="fas fa-cocktail"></i> Bar</span>
                        </div>
                        <div class="tour-price">
                            <div class="price-info">
                                <span class="original-price">₹10,500</span>
                                <span class="price">₹7,500/night</span>
                                <span class="offer-tag">29% OFF</span>
                            </div>
                            <button class="btn btn-small btn-book" onclick="openStayBooking(this)">Book Now</button>
                        </div>
                    </div>
                </div>

                <!-- Resort 1: Palm Beach -->
                <div class="tour-card" data-name="Palm Beach Resort" data-price="8999" data-duration="1" data-category="beach" data-type="stay" data-stay-type="resort"
                     data-image="https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=400&h=300&fit=crop"
                     data-route="Goa" data-duration-text="Per Night"
                     data-original-price="12999" data-discount="31" data-rating="4.7" data-reviews="2.8k"
                     data-includes="Private Beach,Pool,Spa,Water Sports,Restaurant,Bar">
                    <div class="tour-image">
                        <img src="https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=400&h=300&fit=crop" alt="Palm Beach Resort">
                        <div class="tour-badge hot">Beach</div>
                        <div class="tour-duration"><i class="fas fa-clock"></i> Per Night</div>
                        <button class="btn-favourite" onclick="toggleFavourite(this)" title="Add to Favourites"><i class="far fa-heart"></i></button>
                    </div>
                    <div class="tour-info">
                        <div class="tour-rating"><i class="fas fa-star"></i><span>4.7</span> <small>(2.8k reviews)</small></div>
                        <h3>Palm Beach Resort</h3>
                        <p><i class="fas fa-map-marker-alt"></i> Goa</p>
                        <div class="tour-highlights">
                            <span><i class="fas fa-umbrella-beach"></i> Private Beach</span>
                            <span><i class="fas fa-swimming-pool"></i> Pool</span>
                            <span><i class="fas fa-spa"></i> Spa</span>
                            <span><i class="fas fa-water"></i> Water Sports</span>
                        </div>
                        <div class="tour-price">
                            <div class="price-info">
                                <span class="original-price">₹12,999</span>
                                <span class="price">₹8,999/night</span>
                                <span class="offer-tag">31% OFF</span>
                            </div>
                            <button class="btn btn-small btn-book" onclick="openStayBooking(this)">Book Now</button>
                        </div>
                    </div>
                </div>

                <!-- Resort 2: Himalayan Heights -->
                <div class="tour-card" data-name="Himalayan Heights Resort" data-price="6500" data-duration="1" data-category="mountain" data-type="stay" data-stay-type="resort"
                     data-image="https://images.unsplash.com/photo-1587061949409-02df41d5e562?w=400&h=300&fit=crop"
                     data-route="Manali, Himachal Pradesh" data-duration-text="Per Night"
                     data-original-price="9500" data-discount="32" data-rating="4.6" data-reviews="1.2k"
                     data-includes="Mountain View,Bonfire,Trekking,Restaurant,Heater">
                    <div class="tour-image">
                        <img src="https://images.unsplash.com/photo-1587061949409-02df41d5e562?w=400&h=300&fit=crop" alt="Himalayan Heights Resort">
                        <div class="tour-badge">Mountain</div>
                        <div class="tour-duration"><i class="fas fa-clock"></i> Per Night</div>
                        <button class="btn-favourite" onclick="toggleFavourite(this)" title="Add to Favourites"><i class="far fa-heart"></i></button>
                    </div>
                    <div class="tour-info">
                        <div class="tour-rating"><i class="fas fa-star"></i><span>4.6</span> <small>(1.2k reviews)</small></div>
                        <h3>Himalayan Heights Resort</h3>
                        <p><i class="fas fa-map-marker-alt"></i> Manali, Himachal Pradesh</p>
                        <div class="tour-highlights">
                            <span><i class="fas fa-mountain"></i> Mountain View</span>
                            <span><i class="fas fa-fire"></i> Bonfire</span>
                            <span><i class="fas fa-hiking"></i> Trekking</span>
                            <span><i class="fas fa-utensils"></i> Restaurant</span>
                        </div>
                        <div class="tour-price">
                            <div class="price-info">
                                <span class="original-price">₹9,500</span>
                                <span class="price">₹6,500/night</span>
                                <span class="offer-tag">32% OFF</span>
                            </div>
                            <button class="btn btn-small btn-book" onclick="openStayBooking(this)">Book Now</button>
                        </div>
                    </div>
                </div>

                <!-- Resort 3: Kumarakom Lake -->
                <div class="tour-card" data-name="Kumarakom Lake Resort" data-price="15999" data-duration="1" data-category="luxury" data-type="stay" data-stay-type="resort"
                     data-image="https://images.unsplash.com/photo-1602002418082-a4443e081dd1?w=400&h=300&fit=crop"
                     data-route="Kerala" data-duration-text="Per Night"
                     data-original-price="22999" data-discount="30" data-rating="4.9" data-reviews="1.6k"
                     data-includes="Lake View,Ayurveda Spa,Infinity Pool,Houseboat,Restaurant">
                    <div class="tour-image">
                        <img src="https://images.unsplash.com/photo-1602002418082-a4443e081dd1?w=400&h=300&fit=crop" alt="Kumarakom Lake Resort">
                        <div class="tour-badge featured">Premium</div>
                        <div class="tour-duration"><i class="fas fa-clock"></i> Per Night</div>
                        <button class="btn-favourite" onclick="toggleFavourite(this)" title="Add to Favourites"><i class="far fa-heart"></i></button>
                    </div>
                    <div class="tour-info">
                        <div class="tour-rating"><i class="fas fa-star"></i><span>4.9</span> <small>(1.6k reviews)</small></div>
                        <h3>Kumarakom Lake Resort</h3>
                        <p><i class="fas fa-map-marker-alt"></i> Kerala</p>
                        <div class="tour-highlights">
                            <span><i class="fas fa-water"></i> Lake View</span>
                            <span><i class="fas fa-spa"></i> Ayurveda Spa</span>
                            <span><i class="fas fa-swimming-pool"></i> Infinity Pool</span>
                            <span><i class="fas fa-ship"></i> Houseboat</span>
                        </div>
                        <div class="tour-price">
                            <div class="price-info">
                                <span class="original-price">₹22,999</span>
                                <span class="price">₹15,999/night</span>
                                <span class="offer-tag">30% OFF</span>
                            </div>
                            <button class="btn btn-small btn-book" onclick="openStayBooking(this)">Book Now</button>
                        </div>
                    </div>
                </div>

                <!-- Resort 4: Wildflower Hall -->
                <div class="tour-card" data-name="Wildflower Hall" data-price="22000" data-duration="1" data-category="mountain" data-type="stay" data-stay-type="resort"
                     data-image="https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=400&h=300&fit=crop"
                     data-route="Shimla, Himachal Pradesh" data-duration-text="Per Night"
                     data-original-price="30000" data-discount="27" data-rating="4.8" data-reviews="980"
                     data-includes="Valley View,Heated Pool,Spa,Horse Riding,Restaurant">
                    <div class="tour-image">
                        <img src="https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=400&h=300&fit=crop" alt="Wildflower Hall">
                        <div class="tour-badge featured">Luxury</div>
                        <div class="tour-duration"><i class="fas fa-clock"></i> Per Night</div>
                        <button class="btn-favourite" onclick="toggleFavourite(this)" title="Add to Favourites"><i class="far fa-heart"></i></button>
                    </div>
                    <div class="tour-info">
                        <div class="tour-rating"><i class="fas fa-star"></i><span>4.8</span> <small>(980 reviews)</small></div>
                        <h3>Wildflower Hall</h3>
                        <p><i class="fas fa-map-marker-alt"></i> Shimla, Himachal Pradesh</p>
                        <div class="tour-highlights">
                            <span><i class="fas fa-mountain"></i> Valley View</span>
                            <span><i class="fas fa-swimming-pool"></i> Heated Pool</span>
                            <span><i class="fas fa-spa"></i> Spa</span>
                            <span><i class="fas fa-horse"></i> Horse Riding</span>
                        </div>
                        <div class="tour-price">
                            <div class="price-info">
                                <span class="original-price">₹30,000</span>
                                <span class="price">₹22,000/night</span>
                                <span class="offer-tag">27% OFF</span>
                            </div>
                            <button class="btn btn-small btn-book" onclick="openStayBooking(this)">Book Now</button>
                        </div>
                    </div>
                </div>

                <!-- Resort 5: Radhanagar Beach -->
                <div class="tour-card" data-name="Radhanagar Beach Resort" data-price="11500" data-duration="1" data-category="beach" data-type="stay" data-stay-type="resort"
                     data-image="https://images.unsplash.com/photo-1573843981267-be1999ff37cd?w=400&h=300&fit=crop"
                     data-route="Andaman Islands" data-duration-text="Per Night"
                     data-original-price="16500" data-discount="30" data-rating="4.7" data-reviews="870"
                     data-includes="Beachfront,Snorkeling,Diving,Restaurant,Bonfire">
                    <div class="tour-image">
                        <img src="https://images.unsplash.com/photo-1573843981267-be1999ff37cd?w=400&h=300&fit=crop" alt="Radhanagar Beach Resort">
                        <div class="tour-badge hot">Island</div>
                        <div class="tour-duration"><i class="fas fa-clock"></i> Per Night</div>
                        <button class="btn-favourite" onclick="toggleFavourite(this)" title="Add to Favourites"><i class="far fa-heart"></i></button>
                    </div>
                    <div class="tour-info">
                        <div class="tour-rating"><i class="fas fa-star"></i><span>4.7</span> <small>(870 reviews)</small></div>
                        <h3>Radhanagar Beach Resort</h3>
                        <p><i class="fas fa-map-marker-alt"></i> Andaman Islands</p>
                        <div class="tour-highlights">
                            <span><i class="fas fa-umbrella-beach"></i> Beachfront</span>
                            <span><i class="fas fa-fish"></i> Snorkeling</span>
                            <span><i class="fas fa-water"></i> Diving</span>
                            <span><i class="fas fa-fire"></i> Bonfire</span>
                        </div>
                        <div class="tour-price">
                            <div class="price-info">
                                <span class="original-price">₹16,500</span>
                                <span class="price">₹11,500/night</span>
                                <span class="offer-tag">30% OFF</span>
                            </div>
                            <button class="btn btn-small btn-book" onclick="openStayBooking(this)">Book Now</button>
                        </div>
                    </div>
                </div>

                <!-- Resort 6: Camp Jeevika -->
                <div class="tour-card" data-name="Camp Jeevika" data-price="3500" data-duration="1" data-category="budget" data-type="stay" data-stay-type="resort"
                     data-image="https://images.unsplash.com/photo-1504280390367-361c6d9f38f4?w=400&h=300&fit=crop"
                     data-route="Rishikesh, Uttarakhand" data-duration-text="Per Night"
                     data-original-price="5500" data-discount="36" data-rating="4.4" data-reviews="1.4k"
                     data-includes="Riverside,Camping,Rafting,Bonfire,Meals">
                    <div class="tour-image">
                        <img src="https://images.unsplash.com/photo-1504280390367-361c6d9f38f4?w=400&h=300&fit=crop" alt="Camp Jeevika">
                        <div class="tour-badge">Adventure</div>
                        <div class="tour-duration"><i class="fas fa-clock"></i> Per Night</div>
                        <button class="btn-favourite" onclick="toggleFavourite(this)" title="Add to Favourites"><i class="far fa-heart"></i></button>
                    </div>
                    <div class="tour-info">
                        <div class="tour-rating"><i class="fas fa-star"></i><span>4.4</span> <small>(1.4k reviews)</small></div>
                        <h3>Camp Jeevika</h3>
                        <p><i class="fas fa-map-marker-alt"></i> Rishikesh, Uttarakhand</p>
                        <div class="tour-highlights">
                            <span><i class="fas fa-water"></i> Riverside</span>
                            <span><i class="fas fa-campground"></i> Camping</span>
                            <span><i class="fas fa-water"></i> Rafting</span>
                            <span><i class="fas fa-fire"></i> Bonfire</span>
                        </div>
                        <div class="tour-price">
                            <div class="price-info">
                                <span class="original-price">₹5,500</span>
                                <span class="price">₹3,500/night</span>
                                <span class="offer-tag">36% OFF</span>
                            </div>
                            <button class="btn btn-small btn-book" onclick="openStayBooking(this)">Book Now</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- No Results -->
            <div class="no-results" id="stayNoResults">
                <i class="fas fa-search"></i>
                <h3>No stays found</h3>
                <p>Try adjusting your filters or search term</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <a href="index.html" class="logo">
                        <i class="fas fa-plane-departure"></i>
                        TravelGo
                    </a>
                    <p>Smart travel platform for destinations, curated tours, and premium stays with transparent pricing.</p>
                    <div class="social-links">
                        <a href="social-facebook.html" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="social-instagram.html" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="footer-links">
                    <h4>Explore</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="destinations.html">Destinations</a></li>
                        <li><a href="tour-packages.html">Tour Packages</a></li>
                        <li><a href="stay.html">Hotels & Resorts</a></li>
                        <li><a href="my-bookings.html">My Bookings</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h4>Services</h4>
                    <ul>
                        <li><a href="bookings.html?tab=flight">Flight Booking</a></li>
                        <li><a href="bookings.html?tab=train">Train Booking</a></li>
                        <li><a href="bookings.html?tab=bus">Bus Booking</a></li>
                        <li><a href="bookings.html?tab=hotel">Hotel Booking</a></li>
                        <li><a href="bookings.html?tab=resort">Resort Booking</a></li>
                    </ul>
                </div>
                <div class="footer-newsletter">
                    <h4>Travel Updates</h4>
                    <p>Get destination insights, seasonal offers, and smart planning tips in your inbox.</p>
                    <form class="newsletter-form">
                        <input type="email" placeholder="Enter your email">
                        <button type="submit"><i class="fas fa-paper-plane"></i></button>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 TravelGo. All rights reserved. Built for modern travelers.</p>
            </div>
        </div>
    </footer>

    <!-- Stay Booking Modal -->
    <div class="modal tour-booking-modal" id="stayBookingModal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeStayBooking()">&times;</span>
            <div class="tour-booking-header">
                <img id="stayBookingImg" src="" alt="Stay">
                <div class="overlay">
                    <h2 id="stayBookingName">Stay</h2>
                    <p><i class="fas fa-map-marker-alt"></i> <span id="stayBookingLocation">Location</span></p>
                </div>
            </div>
            <div class="tour-booking-body">
                <div class="tour-booking-details" id="stayBookingDetails"></div>
                <div class="includes-grid" id="stayBookingAmenities"></div>
                <div class="tour-booking-form">
                    <h3><i class="fas fa-calendar-check"></i> Booking Details</h3>
                    <form onsubmit="submitStayBooking(event)">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Full Name *</label>
                                <input type="text" id="sbName" required placeholder="Enter your name">
                            </div>
                            <div class="form-group">
                                <label>Email *</label>
                                <input type="email" id="sbEmail" required placeholder="Enter email">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Phone *</label>
                                <input type="tel" id="sbPhone" required placeholder="Phone number">
                            </div>
                            <div class="form-group">
                                <label>Check-in Date *</label>
                                <input type="date" id="sbCheckin" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Number of Nights</label>
                                <select id="sbNights" onchange="updateStayPrice()">
                                    <option value="1">1 Night</option>
                                    <option value="2" selected>2 Nights</option>
                                    <option value="3">3 Nights</option>
                                    <option value="4">4 Nights</option>
                                    <option value="5">5 Nights</option>
                                    <option value="7">7 Nights</option>
                                    <option value="10">10 Nights</option>
                                    <option value="14">14 Nights</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Number of Rooms</label>
                                <select id="sbRooms" onchange="updateStayPrice()">
                                    <option value="1" selected>1 Room</option>
                                    <option value="2">2 Rooms</option>
                                    <option value="3">3 Rooms</option>
                                    <option value="4">4 Rooms</option>
                                    <option value="5">5 Rooms</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Special Requests</label>
                            <input type="text" id="sbRequests" placeholder="Any special requirements?">
                        </div>
                        <div class="tour-price-summary">
                            <div class="price-row">
                                <span>Base Price (per night)</span>
                                <span id="sbBasePrice">₹0</span>
                            </div>
                            <div class="price-row">
                                <span>Nights</span>
                                <span>× <span id="sbNightCount">2</span></span>
                            </div>
                            <div class="price-row">
                                <span>Rooms</span>
                                <span>× <span id="sbRoomCount">1</span></span>
                            </div>
                            <div class="price-row">
                                <span>Discount</span>
                                <span class="discount" id="sbDiscountAmt">- ₹0</span>
                            </div>
                            <div class="price-row">
                                <span>GST (12%)</span>
                                <span id="sbGST">₹0</span>
                            </div>
                            <div class="price-row total">
                                <span>Total Amount</span>
                                <span class="amount" id="sbTotal">₹0</span>
                            </div>
                        </div>
                        <div class="tour-booking-actions">
                            <button type="button" class="btn btn-outline" onclick="closeStayBooking()">Cancel</button>
                            <button type="submit" class="btn btn-success"><i class="fas fa-check-circle"></i> Confirm Booking</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Invoice Modal -->
    <div class="modal" id="invoiceModal">
        <div class="modal-content invoice-content">
            <div class="invoice-header">
                <div class="invoice-logo">
                    <i class="fas fa-plane-departure"></i>
                    <span>TravelGo</span>
                </div>
                <div class="invoice-title">
                    <h2>Booking Confirmed!</h2>
                    <p>Invoice #<span id="invoiceNumber">TG000000</span></p>
                </div>
            </div>
            <div class="invoice-body" id="invoiceBody"></div>
            <div class="invoice-actions">
                <button class="btn btn-outline" onclick="window.print()"><i class="fas fa-print"></i> Print</button>
                <button class="btn btn-outline" onclick="downloadInvoice()"><i class="fas fa-download"></i> Download</button>
                <button class="btn btn-primary" onclick="closeInvoiceModal()">Done</button>
            </div>
        </div>
    </div>

    <script src="js/main.js"></script>
    <script>
        var currentStayData = {};
        let stayCategory = 'all';
        let staySearch = '';
        let stayBudget = 'all';

        document.addEventListener('DOMContentLoaded', function () {
            const sbCheckin = document.getElementById('sbCheckin');
            if (sbCheckin) sbCheckin.setAttribute('min', new Date().toISOString().split('T')[0]);

            const sbName = document.getElementById('sbName');
            const sbEmail = document.getElementById('sbEmail');
            if (sbName && localStorage.getItem('userFullName')) sbName.value = localStorage.getItem('userFullName');
            if (sbEmail && localStorage.getItem('userEmail')) sbEmail.value = localStorage.getItem('userEmail');

            const params = new URLSearchParams(window.location.search);
            const typeParam = params.get('type');
            if (typeParam === 'hotel' || typeParam === 'resort') {
                stayCategory = typeParam;
                document.querySelectorAll('.tour-filter-btn').forEach(b => {
                    b.classList.remove('active');
                    if (b.dataset.category === typeParam) b.classList.add('active');
                });
            }

            document.querySelectorAll('.tour-filter-btn').forEach(btn => {
                btn.addEventListener('click', function () {
                    document.querySelectorAll('.tour-filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    stayCategory = this.dataset.category;
                    stayFilterAndSort();
                });
            });

            const searchInput = document.getElementById('staySearch');
            if (searchInput) {
                searchInput.addEventListener('input', function () {
                    staySearch = this.value.toLowerCase().trim();
                    stayFilterAndSort();
                });
            }

            const sortSelect = document.getElementById('staySort');
            if (sortSelect) {
                sortSelect.addEventListener('change', function () { stayFilterAndSort(); });
            }

            const budgetSelect = document.getElementById('stayBudget');
            if (budgetSelect) {
                budgetSelect.addEventListener('change', function () {
                    stayBudget = this.value || 'all';
                    stayFilterAndSort();
                });
            }

            const resetBtn = document.getElementById('stayResetFilters');
            if (resetBtn) {
                resetBtn.addEventListener('click', function () {
                    stayCategory = 'all';
                    staySearch = '';
                    stayBudget = 'all';
                    const allBtn = document.querySelector('.tour-filter-btn[data-category="all"]');
                    document.querySelectorAll('.tour-filter-btn').forEach(b => b.classList.remove('active'));
                    if (allBtn) allBtn.classList.add('active');
                    const searchEl = document.getElementById('staySearch');
                    const budgetEl = document.getElementById('stayBudget');
                    const sortEl = document.getElementById('staySort');
                    if (searchEl) searchEl.value = '';
                    if (budgetEl) budgetEl.value = 'all';
                    if (sortEl) sortEl.value = 'default';
                    stayFilterAndSort();
                });
            }

            stayUpdateCounts();
            stayFilterAndSort();
        });

        function stayFilterAndSort() {
            const cards = Array.from(document.querySelectorAll('#staysGrid .tour-card'));
            const sortVal = document.getElementById('staySort')?.value || 'default';
            let visible = 0;

            cards.forEach(card => {
                const category = card.dataset.category || '';
                const stayType = card.dataset.stayType || '';
                const name = card.dataset.name?.toLowerCase() || '';
                const location = card.dataset.route?.toLowerCase() || '';
                const amenities = card.dataset.includes?.toLowerCase() || '';
                const price = parseInt(card.dataset.price || '0', 10);

                const matchCategory = stayCategory === 'all' || category === stayCategory || stayType === stayCategory;
                const matchSearch = !staySearch ||
                    name.includes(staySearch) || location.includes(staySearch) ||
                    amenities.includes(staySearch) || category.includes(staySearch) || stayType.includes(staySearch);
                const matchBudget = stayMatchesBudgetRange(price, stayBudget);

                if (matchCategory && matchSearch && matchBudget) { card.style.display = ''; visible++; }
                else { card.style.display = 'none'; }
            });

            const grid = document.getElementById('staysGrid');
            const visibleCards = cards.filter(c => c.style.display !== 'none');
            visibleCards.sort((a, b) => {
                const priceA = parseInt(a.dataset.price); const priceB = parseInt(b.dataset.price);
                const ratingA = parseFloat(a.dataset.rating); const ratingB = parseFloat(b.dataset.rating);
                switch (sortVal) {
                    case 'price-low': return priceA - priceB;
                    case 'price-high': return priceB - priceA;
                    case 'rating': return ratingB - ratingA;
                    default: return 0;
                }
            });
            visibleCards.forEach(card => grid.appendChild(card));
            cards.filter(c => c.style.display === 'none').forEach(card => grid.appendChild(card));

            document.getElementById('stayVisibleCount').textContent = visible;
            document.getElementById('stayNoResults').style.display = visible === 0 ? 'block' : 'none';
        }

        function stayMatchesBudgetRange(price, range) {
            if (!range || range === 'all') return true;
            const parts = range.split('-');
            if (parts.length !== 2) return true;
            const min = parseInt(parts[0], 10);
            const max = parseInt(parts[1], 10);
            if (Number.isNaN(min) || Number.isNaN(max)) return true;
            return price >= min && price <= max;
        }

        function stayUpdateCounts() {
            const cards = document.querySelectorAll('#staysGrid .tour-card');
            const total = cards.length;
            document.getElementById('stayCountAll').textContent = total;
            document.getElementById('stayVisibleCount').textContent = total;

            const categories = {};
            cards.forEach(card => {
                const cat = card.dataset.category || '';
                const st = card.dataset.stayType || '';
                if (cat) categories[cat] = (categories[cat] || 0) + 1;
                if (st) categories[st] = (categories[st] || 0) + 1;
            });

            document.querySelectorAll('.tour-filter-btn').forEach(btn => {
                const cat = btn.dataset.category;
                if (cat && cat !== 'all') {
                    let countSpan = btn.querySelector('.count');
                    const count = categories[cat] || 0;
                    if (!countSpan) { countSpan = document.createElement('span'); countSpan.className = 'count'; btn.appendChild(countSpan); }
                    countSpan.textContent = count;
                }
            });
        }

        function openStayBooking(btn) {
            const card = btn.closest('.tour-card');
            if (!card) return;

            currentStayData = {
                name: card.dataset.name,
                price: parseInt(card.dataset.price),
                originalPrice: parseInt(card.dataset.originalPrice),
                discount: parseInt(card.dataset.discount),
                stayType: card.dataset.stayType,
                location: card.dataset.route,
                image: card.dataset.image,
                rating: card.dataset.rating,
                reviews: card.dataset.reviews,
                amenities: card.dataset.includes?.split(',') || []
            };

            document.getElementById('stayBookingImg').src = currentStayData.image;
            document.getElementById('stayBookingName').textContent = currentStayData.name;
            document.getElementById('stayBookingLocation').textContent = currentStayData.location;

            document.getElementById('stayBookingDetails').innerHTML = `
                <div class="tour-detail-item"><i class="fas fa-rupee-sign"></i><div class="detail-text"><span class="detail-label">Price / Night</span><span class="detail-value">₹${currentStayData.price.toLocaleString('en-IN')}</span></div></div>
                <div class="tour-detail-item"><i class="fas fa-star"></i><div class="detail-text"><span class="detail-label">Rating</span><span class="detail-value">${currentStayData.rating} ★ (${currentStayData.reviews} reviews)</span></div></div>
                <div class="tour-detail-item"><i class="fas fa-${currentStayData.stayType === 'hotel' ? 'hotel' : 'umbrella-beach'}"></i><div class="detail-text"><span class="detail-label">Type</span><span class="detail-value">${currentStayData.stayType === 'hotel' ? 'Hotel' : 'Resort'}</span></div></div>
                <div class="tour-detail-item"><i class="fas fa-percent"></i><div class="detail-text"><span class="detail-label">Discount</span><span class="detail-value" style="color: var(--success-color);">${currentStayData.discount}% OFF</span></div></div>`;

            document.getElementById('stayBookingAmenities').innerHTML = currentStayData.amenities.map(item =>
                `<span><i class="fas fa-check-circle"></i> ${item.trim()}</span>`).join('');

            const sbName = document.getElementById('sbName');
            const sbEmail = document.getElementById('sbEmail');
            if (sbName && localStorage.getItem('userFullName')) sbName.value = localStorage.getItem('userFullName');
            if (sbEmail && localStorage.getItem('userEmail')) sbEmail.value = localStorage.getItem('userEmail');

            updateStayPrice();
            document.getElementById('stayBookingModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeStayBooking() {
            document.getElementById('stayBookingModal').classList.remove('active');
            document.body.style.overflow = '';
        }

        function updateStayPrice() {
            const nights = parseInt(document.getElementById('sbNights').value) || 1;
            const rooms = parseInt(document.getElementById('sbRooms').value) || 1;
            const basePrice = currentStayData.originalPrice || 0;
            const discountedPrice = currentStayData.price || 0;
            const subtotal = basePrice * nights * rooms;
            const discountAmt = (basePrice - discountedPrice) * nights * rooms;
            const afterDiscount = subtotal - discountAmt;
            const gst = Math.round(afterDiscount * 0.12);
            const total = afterDiscount + gst;

            document.getElementById('sbBasePrice').textContent = '₹' + basePrice.toLocaleString('en-IN');
            document.getElementById('sbNightCount').textContent = nights;
            document.getElementById('sbRoomCount').textContent = rooms;
            document.getElementById('sbDiscountAmt').textContent = '- ₹' + discountAmt.toLocaleString('en-IN');
            document.getElementById('sbGST').textContent = '₹' + gst.toLocaleString('en-IN');
            document.getElementById('sbTotal').textContent = '₹' + total.toLocaleString('en-IN');
        }

        function submitStayBooking(e) {
            e.preventDefault();
            const name = document.getElementById('sbName').value.trim();
            const email = document.getElementById('sbEmail').value.trim();
            const phone = document.getElementById('sbPhone').value.trim();
            const checkin = document.getElementById('sbCheckin').value;
            const nights = parseInt(document.getElementById('sbNights').value);
            const rooms = parseInt(document.getElementById('sbRooms').value);
            const requests = document.getElementById('sbRequests').value.trim();

            if (!name || !email || !phone || !checkin) {
                showNotification('Please fill all required fields!', 'error');
                return;
            }

            const totalText = document.getElementById('sbTotal').textContent;
            const invoiceNum = 'TG' + Date.now().toString().slice(-6);

            const booking = {
                id: invoiceNum, type: 'Stay Booking', destination: currentStayData.name,
                route: currentStayData.location, duration: nights + ' Night(s), ' + rooms + ' Room(s)',
                stayType: currentStayData.stayType, date: checkin, travelers: rooms,
                travelerName: name, email: email, phone: phone, requests: requests,
                total: totalText, includes: currentStayData.amenities,
                bookedAt: new Date().toISOString(), status: 'Confirmed'
            };

            const bookings = JSON.parse(localStorage.getItem('travelgo_bookings') || '[]');
            bookings.push(booking);
            localStorage.setItem('travelgo_bookings', JSON.stringify(bookings));

            closeStayBooking();

            document.getElementById('invoiceNumber').textContent = invoiceNum;
            document.getElementById('invoiceBody').innerHTML = `
                <div style="padding: 20px;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <div>
                            <h4 style="margin-bottom: 8px; color: #4f46e5;">Stay Details</h4>
                            <p><strong>${currentStayData.stayType === 'hotel' ? 'Hotel' : 'Resort'}:</strong> ${currentStayData.name}</p>
                            <p><strong>Location:</strong> ${currentStayData.location}</p>
                            <p><strong>Check-in:</strong> ${new Date(checkin).toLocaleDateString('en-IN', { day: 'numeric', month: 'long', year: 'numeric' })}</p>
                            <p><strong>Duration:</strong> ${nights} Night(s)</p>
                            <p><strong>Rooms:</strong> ${rooms}</p>
                        </div>
                        <div>
                            <h4 style="margin-bottom: 8px; color: #4f46e5;">Guest Info</h4>
                            <p><strong>Name:</strong> ${name}</p>
                            <p><strong>Email:</strong> ${email}</p>
                            <p><strong>Phone:</strong> ${phone}</p>
                        </div>
                    </div>
                    <div style="text-align: right; font-size: 20px; font-weight: 700; color: #10b981; padding: 15px; background: #f0fdf4; border-radius: 8px;">
                        Total Paid: ${totalText}
                    </div>
                    <div style="text-align: center; color: #10b981; margin-top: 30px;">
                        <i class="fas fa-check-circle" style="font-size: 48px; margin-bottom: 15px;"></i>
                        <h3>Stay Booking Confirmed!</h3>
                        <p>Confirmation sent to ${email}</p>
                    </div>
                </div>`;

            document.getElementById('invoiceModal').classList.add('active');
            document.body.style.overflow = 'hidden';
            showNotification('Stay booked successfully!', 'success');
        }
    </script>
</body>
</html>
